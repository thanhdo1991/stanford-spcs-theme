$cards-space-tablet: 15px;
$cards-space-desktop: 24px;

.cards {
  margin: rem(50px 0);
  padding: rem(30px 0 26px);

  @include susy-media(tablet) {
    padding: rem(50px 0 39px);
  }

  @include susy-media(desktopSuperwide) {
    padding: rem(70px 0 59px);
  }

  &__title {
    margin-bottom: rem(32px);

    @include susy-media(tablet) {
      margin-bottom: rem(36px);
    }
  }

  &__image {
    line-height: 0;
    margin: rem(0 -22px 17px);

    @include susy-media(tablet) {
      margin: rem(0 -20px 19px);
    }
  }

  &__group {
    overflow: hidden;
    padding: rem(0 22px 7px);

    @include susy-media(tablet) {
      padding: rem(0 20px 8px);
    }
  }

  &__item {
    border-bottom: rem(5px) solid $brand-primary;
    box-shadow: 0 0 rem(10px) 0 rgba($black, .15);
    margin-bottom: rem(15px);
    position: relative;
    transition: all .45s ease;

    @include susy-media(tablet) {
      align-self: stretch;
      margin-left: rem($cards-space-tablet);
      width: calc((100% - #{rem($cards-space-tablet)}) / 2);

      &:nth-child(2n + 1) {
        margin-left: 0;
      }
    }

    @include susy-media(desktop) {
      margin-bottom: rem($cards-space-desktop);
      margin-left: rem($cards-space-desktop);
      width: calc((100% - #{rem($cards-space-desktop)}) / 2);

      &:nth-child(2n + 1) {
        margin-left: 0;
      }
    }

    &:hover {
      box-shadow: rem(0 1px 8px 0) rgba($black, .8);
    }

    &__title {
      margin-bottom: rem(17px);

      @include susy-media(tablet) {
        margin-bottom: rem(13px);
      }
    }

    &__description {
      margin-bottom: rem(15px);
    }

    &__link-hover {
      a {
        @extend %link-hover-conver;
      }
    }

    .text--white & {
      box-shadow: 0 0 rem(10px) 0 rgba($white, .15);

      &:hover {
        box-shadow: rem(0 1px 8px 0) rgba($white, .8);
      }
    }
  }

  &__grid {
    margin-bottom: rem(24px);

    @include susy-media(tablet) {
      align-content: flex-start;
      align-items: flex-start;
      display: flex;
      flex-flow: row wrap;
      justify-content: center;
      margin-bottom: rem(10px);
    }

    &--6-items,
    &--3-items {
      .cards__item {
        @include susy-media(tablet) {
          width: calc((100% - #{2 * rem($cards-space-tablet)}) / 3);

          &:nth-child(2n + 1) {
            margin-left: rem($cards-space-tablet);
          }

          &:nth-child(3n + 1) {
            margin-left: 0;
          }
        }

        @include susy-media(desktop) {
          width: calc((100% - #{2 * rem($cards-space-desktop)}) / 3);

          &:nth-child(2n + 1) {
            margin-left: rem($cards-space-desktop);
          }

          &:nth-child(3n + 1) {
            margin-left: 0;
          }
        }
      }
    }

    &--4-items {
      .cards__item {
        @include susy-media(desktop) {
          width: calc((100% - #{3 * rem($cards-space-desktop)}) / 4);

          &:nth-child(3n + 1),
          &:nth-child(2n + 1) {
            margin-left: rem($cards-space-desktop);
          }

          &:nth-child(4n + 1) {
            margin-left: 0;
          }
        }
      }
    }

    &--5-items {
      .cards__item {
        @include susy-media(tablet) {
          &:nth-child(1),
          &:nth-child(2),
          &:nth-child(3) {
            width: calc((100% - #{2 * rem($cards-space-tablet)}) / 3);
            margin-left: rem($cards-space-tablet);
          }

          &:nth-child(2n + 1) {
            margin-left: rem($cards-space-tablet);
          }

          &:nth-child(4),
          &:nth-child(1) {
            margin-left: 0;
          }
        }

        @include susy-media(desktop) {
          &:nth-child(1),
          &:nth-child(2),
          &:nth-child(3) {
            width: calc((100% - #{2 * rem($cards-space-desktop)}) / 3);
            margin-left: rem($cards-space-desktop);
          }

          &:nth-child(2n + 1) {
            margin-left: rem($cards-space-desktop);
          }

          &:nth-child(4),
          &:nth-child(1) {
            margin-left: 0;
          }
        }
      }
    }
  }

  &__btn {
    padding-bottom: rem(24px);
    padding-top: rem(20px);

    @include susy-media(tablet) {
      padding-bottom: rem(25px);
      padding-top: rem(13px);
    }
  }
}
